<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow AI - Intelligent Task Management</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Flatpickr for date picking -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <!-- Chart.js for analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #cbd5e1;
            --bg: #f1f5f9;
            --card: #ffffff;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.12);
            --radius: 16px;
            --radius-sm: 12px;
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
            --gradient-success: linear-gradient(135deg, #10b981, #059669);
            --gradient-warning: linear-gradient(135deg, #f59e0b, #d97706);
            --gradient-danger: linear-gradient(135deg, #ef4444, #dc2626);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
            position: relative;
        }

        /* AI Background Animation */
        .ai-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.1;
        }

        .ai-background span {
            position: absolute;
            font-size: 24px;
            color: white;
            animation: floatAI 20s linear infinite;
        }

        @keyframes floatAI {
            from { transform: translateY(100vh) rotate(0deg); }
            to { transform: translateY(-100vh) rotate(360deg); }
        }

        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Header with AI Tools */
        .app-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }

        .logo-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            transform: rotate(10deg);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .logo-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        .logo-icon:hover {
            transform: rotate(0deg) scale(1.1);
        }

        .logo-text h1 {
            font-size: 32px;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            position: relative;
        }

        .logo-text h1::after {
            content: 'AI';
            font-size: 14px;
            background: var(--gradient);
            color: white;
            padding: 2px 8px;
            border-radius: 20px;
            margin-left: 10px;
            -webkit-text-fill-color: white;
            vertical-align: super;
        }

        .logo-text p {
            color: var(--gray);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-badge {
            background: var(--gradient);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 20px;
            background: var(--bg);
            padding: 10px 20px;
            border-radius: 50px;
            position: relative;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 20px;
            position: relative;
        }

        .user-avatar::after {
            content: '';
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: var(--success);
            border-radius: 50%;
            border: 2px solid white;
        }

        /* AI Tools Bar */
        .ai-tools-bar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-sm);
            padding: 15px 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(99, 102, 241, 0.2);
            box-shadow: var(--shadow);
        }

        .ai-tools-title {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary);
            font-weight: 600;
        }

        .ai-tools-title i {
            font-size: 20px;
            animation: spin 4s linear infinite;
        }

        .ai-tools-grid {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .ai-tool-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            color: var(--primary);
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .ai-tool-btn:hover {
            background: var(--gradient);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
        }

        .ai-tool-btn i {
            font-size: 16px;
        }

        /* Stats Grid with AI Insights */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .stat-card:hover::before {
            transform: translateX(100%);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.2);
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            position: relative;
            overflow: hidden;
        }

        .stat-icon.total { background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2)); color: var(--primary); }
        .stat-icon.completed { background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2)); color: var(--success); }
        .stat-icon.pending { background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2)); color: var(--warning); }
        .stat-icon.overdue { background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.2)); color: var(--danger); }

        .stat-info h3 {
            font-size: 36px;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-insight {
            font-size: 11px;
            background: rgba(99, 102, 241, 0.1);
            padding: 4px 8px;
            border-radius: 20px;
            color: var(--primary);
        }

        /* Real-time Updates Banner - Premium Styling */
        .realtime-banner {
            background: linear-gradient(135deg, 
                rgba(99, 102, 241, 0.95), 
                rgba(139, 92, 246, 0.95),
                rgba(79, 70, 229, 0.95)
            );
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 
                0 10px 40px rgba(99, 102, 241, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1) inset,
                0 0 30px rgba(139, 92, 246, 0.3);
            position: relative;
            overflow: hidden;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { 
                box-shadow: 
                    0 10px 40px rgba(99, 102, 241, 0.3),
                    0 0 0 1px rgba(255, 255, 255, 0.1) inset,
                    0 0 30px rgba(139, 92, 246, 0.3);
            }
            50% { 
                box-shadow: 
                    0 15px 50px rgba(99, 102, 241, 0.5),
                    0 0 0 2px rgba(255, 255, 255, 0.2) inset,
                    0 0 50px rgba(139, 92, 246, 0.5);
            }
        }

        .realtime-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transform: rotate(45deg);
            animation: shimmer 6s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) rotate(45deg);
            }
            100% {
                transform: translateX(100%) rotate(45deg);
            }
        }

        .banner-left {
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            z-index: 1;
        }

        .ai-pulse {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            }
            50% {
                transform: scale(1.1);
                box-shadow: 0 0 40px rgba(255, 255, 255, 0.5);
            }
        }

        .ai-pulse i {
            font-size: 28px;
            color: white;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .ai-pulse::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 22px;
            background: linear-gradient(135deg, #fff, transparent);
            opacity: 0.3;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .banner-content {
            display: flex;
            flex-direction: column;
        }

        .banner-title {
            font-size: 22px;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        .banner-title i {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .banner-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
            letter-spacing: 0.3px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: opacity 0.2s ease-in-out;
        }

        .banner-subtitle::before {
            content: 'âš¡';
            font-size: 16px;
            animation: spark 1.5s ease-in-out infinite;
        }

        @keyframes spark {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .banner-right {
            display: flex;
            align-items: center;
            gap: 25px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 25px;
            border-radius: 60px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            position: relative;
            z-index: 1;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(239, 68, 68, 0.2);
            padding: 6px 12px;
            border-radius: 30px;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .pulse-dot {
            width: 10px;
            height: 10px;
            background: #ef4444;
            border-radius: 50%;
            position: relative;
        }

        .pulse-dot::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: #ef4444;
            border-radius: 50%;
            opacity: 0.4;
            animation: pulse-ring 1.5s ease-out infinite;
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(0.5);
                opacity: 0.5;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .live-text {
            color: white;
            font-weight: 700;
            font-size: 12px;
            letter-spacing: 1px;
            text-shadow: 0 0 10px #ef4444;
        }

        .timestamp-container {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            font-weight: 600;
        }

        .timestamp-container i {
            font-size: 16px;
            opacity: 0.8;
            animation: tick 2s steps(60) infinite;
        }

        @keyframes tick {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .timestamp-container .time {
            font-size: 20px;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
            background: linear-gradient(135deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            transition: opacity 0.15s ease-in-out;
        }

        .timestamp-container .timezone {
            font-size: 12px;
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 20px;
            font-weight: 600;
            letter-spacing: 0.5px;
            backdrop-filter: blur(5px);
        }

        /* Floating particles effect */
        .realtime-banner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.2) 0px, transparent 2px),
                radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.2) 0px, transparent 2px),
                radial-gradient(circle at 40% 60%, rgba(255, 255, 255, 0.15) 0px, transparent 3px),
                radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.15) 0px, transparent 3px);
            background-size: 100px 100px;
            opacity: 0.3;
            pointer-events: none;
        }

        /* Main Content Layout */
        .main-content {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 30px;
        }

        /* Enhanced Sidebar */
        .task-sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-lg);
            height: fit-content;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        .task-sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(99,102,241,0.1) 0%, transparent 70%);
            border-radius: 50%;
        }

        .sidebar-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-title i {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
            padding: 10px;
            border-radius: 12px;
        }

        .ai-suggestion {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
            border-radius: var(--radius-sm);
            padding: 15px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary);
        }

        .ai-suggestion p {
            color: var(--gray);
            font-size: 13px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-suggestion p i {
            color: var(--primary);
        }

        .suggestion-badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .suggestion-badge {
            padding: 5px 12px;
            background: white;
            border-radius: 20px;
            font-size: 12px;
            color: var(--primary);
            border: 1px solid rgba(99, 102, 241, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .suggestion-badge:hover {
            background: var(--gradient);
            color: white;
            border-color: transparent;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 14px;
        }

        .form-group label i {
            color: var(--primary);
            margin-right: 8px;
        }

        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--gray-light);
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s;
            background: white;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
        }

        .priority-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .priority-option {
            padding: 12px;
            text-align: center;
            border: 2px solid var(--gray-light);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: 600;
        }

        .priority-option.low:hover,
        .priority-option.low.active {
            background: var(--gradient-success);
            border-color: var(--success);
            color: white;
        }

        .priority-option.medium:hover,
        .priority-option.medium.active {
            background: var(--gradient-warning);
            border-color: var(--warning);
            color: white;
        }

        .priority-option.high:hover,
        .priority-option.high.active {
            background: var(--gradient-danger);
            border-color: var(--danger);
            color: white;
        }

        .btn {
            padding: 16px 28px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(99, 102, 241, 0.4);
        }

        /* Tasks Area */
        .tasks-area {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow-lg);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tasks-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .tasks-header h2 {
            font-size: 24px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tasks-header h2 i {
            color: var(--primary);
        }

        .filter-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 18px;
            border: 2px solid var(--gray-light);
            border-radius: 30px;
            background: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 13px;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--gradient);
            border-color: transparent;
            color: white;
            transform: translateY(-2px);
        }

        /* Tasks Board */
        .tasks-board {
            display: flex;
            flex-direction: column;
            gap: 15px;
            min-height: 500px;
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border-left: 6px solid transparent;
            cursor: move;
            transition: all 0.3s;
            position: relative;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .task-card:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.15);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .task-card.dragging {
            opacity: 0.5;
            transform: scale(0.98) rotate(1deg);
            box-shadow: 0 30px 60px rgba(0,0,0,0.2);
        }

        .task-card.priority-low { border-left-color: var(--success); }
        .task-card.priority-medium { border-left-color: var(--warning); }
        .task-card.priority-high { border-left-color: var(--danger); }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .task-title {
            font-weight: 700;
            color: var(--dark);
            font-size: 18px;
        }

        .task-priority {
            font-size: 12px;
            padding: 6px 14px;
            border-radius: 30px;
            font-weight: 600;
        }

        .priority-low .task-priority {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
        }

        .priority-medium .task-priority {
            background: rgba(245, 158, 11, 0.15);
            color: var(--warning);
        }

        .priority-high .task-priority {
            background: rgba(239, 68, 68, 0.15);
            color: var(--danger);
        }

        .task-description {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .task-meta {
            display: flex;
            gap: 25px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .task-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--gray);
        }

        .task-meta-item i {
            color: var(--primary);
            width: 16px;
        }

        .task-deadline.overdue {
            color: var(--danger);
            font-weight: 600;
            animation: shake 0.5s ease-in-out infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .task-status {
            display: flex;
            gap: 10px;
        }

        .status-badge {
            font-size: 12px;
            padding: 6px 14px;
            border-radius: 30px;
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            font-weight: 600;
        }

        .task-actions {
            display: flex;
            gap: 10px;
        }

        .task-action {
            width: 38px;
            height: 38px;
            border-radius: 10px;
            border: none;
            background: var(--bg);
            cursor: pointer;
            transition: all 0.3s;
            color: var(--gray);
            font-size: 16px;
            position: relative;
            overflow: hidden;
        }

        .task-action::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .task-action:hover::before {
            width: 60px;
            height: 60px;
        }

        .task-action:hover {
            transform: translateY(-2px);
        }

        .task-action.complete:hover {
            background: var(--success);
            color: white;
        }

        .task-action.delete:hover {
            background: var(--danger);
            color: white;
        }

        .task-action.ai:hover {
            background: var(--primary);
            color: white;
        }

        /* AI Modals */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-overlay.active {
            display: flex;
        }

        .ai-modal {
            background: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            transform: scale(0.9);
            animation: modalIn 0.3s ease forwards;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        @keyframes modalIn {
            to { transform: scale(1); }
        }

        .modal-header {
            background: var(--gradient);
            padding: 25px 30px;
            border-radius: var(--radius) var(--radius) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite;
        }

        .modal-header h3 {
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .modal-header h3 i {
            font-size: 28px;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
        }

        .ai-analysis {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .analysis-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .analysis-item:last-child {
            border-bottom: none;
        }

        .analysis-label {
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .analysis-value {
            font-weight: 700;
            color: var(--dark);
        }

        .analysis-value.high {
            color: var(--danger);
        }

        .analysis-value.medium {
            color: var(--warning);
        }

        .analysis-value.low {
            color: var(--success);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--gray-light);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
            transition: width 1s ease;
        }

        .ai-suggestions-list {
            list-style: none;
            margin-top: 20px;
        }

        .ai-suggestions-list li {
            padding: 12px;
            background: rgba(99, 102, 241, 0.05);
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: all 0.3s;
        }

        .ai-suggestions-list li:hover {
            transform: translateX(5px);
            background: rgba(99, 102, 241, 0.1);
        }

        .ai-suggestions-list li i {
            color: var(--primary);
            font-size: 18px;
        }

        /* Productivity Chart */
        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: var(--shadow);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 80px;
            margin-bottom: 20px;
            color: var(--primary);
            opacity: 0.5;
        }

        .empty-state h3 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 24px;
        }

        .empty-state p {
            color: var(--gray);
        }

        /* Time update animation */
        .time-update {
            animation: timePulse 0.3s ease-in-out;
        }

        @keyframes timePulse {
            0%, 100% {
                transform: scale(1);
                filter: brightness(1);
            }
            50% {
                transform: scale(1.05);
                filter: brightness(1.3);
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .app-header {
                flex-direction: column;
                text-align: center;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .tasks-header {
                flex-direction: column;
            }
            
            .filter-options {
                width: 100%;
                justify-content: center;
            }
            
            .ai-tools-bar {
                flex-direction: column;
                text-align: center;
            }
            
            .ai-tools-grid {
                justify-content: center;
            }

            .realtime-banner {
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }
            
            .banner-left {
                flex-direction: column;
                text-align: center;
            }
            
            .banner-right {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .banner-right {
                flex-direction: column;
                gap: 15px;
            }
            
            .timestamp-container {
                flex-wrap: wrap;
                justify-content: center;
            }

            .timestamp-container .time {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- AI Background Animation -->
    <div class="ai-background" id="aiBackground"></div>

    <div class="app-container">
        <!-- Header with AI Tools -->
        <div class="app-header">
            <div class="logo-area">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="logo-text">
                    <h1>TaskFlow AI</h1>
                    <p>
                        <i class="fas fa-microchip"></i>
                        Powered by Advanced AI
                        <span class="ai-badge">v2.0</span>
                    </p>
                </div>
            </div>
            
            <div class="user-profile">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <div class="name">Raheel Shakeel</div>
                    <div class="role">AI-Powered Workspace</div>
                </div>
                <i class="fas fa-chevron-down" style="color: var(--gray);"></i>
            </div>
        </div>

        <!-- AI Tools Bar -->
        <div class="ai-tools-bar">
            <div class="ai-tools-title">
                <i class="fas fa-brain"></i>
                <span>AI Intelligence Hub</span>
            </div>
            <div class="ai-tools-grid">
                <button class="ai-tool-btn" onclick="openModal('productivityModal')">
                    <i class="fas fa-chart-line"></i> Productivity Analysis
                </button>
                <button class="ai-tool-btn" onclick="openModal('smartScheduleModal')">
                    <i class="fas fa-clock"></i> Smart Schedule
                </button>
                <button class="ai-tool-btn" onclick="openModal('taskPrioritizerModal')">
                    <i class="fas fa-tasks"></i> Task Prioritizer
                </button>
                <button class="ai-tool-btn" onclick="openModal('insightsModal')">
                    <i class="fas fa-lightbulb"></i> AI Insights
                </button>
            </div>
        </div>

        <!-- Stats Grid with AI Insights -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon total">
                    <i class="fas fa-tasks"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalTasks">0</h3>
                    <p>
                        Total Tasks
                        <span class="ai-insight">
                            <i class="fas fa-robot"></i> +12% vs last week
                        </span>
                    </p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon completed">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="completedTasks">0</h3>
                    <p>
                        Completed
                        <span class="ai-insight">
                            <i class="fas fa-trophy"></i> 85% success rate
                        </span>
                    </p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon pending">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 id="pendingTasks">0</h3>
                    <p>
                        In Progress
                        <span class="ai-insight">
                            <i class="fas fa-hourglass-half"></i> 3 due today
                        </span>
                    </p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon overdue">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="stat-info">
                    <h3 id="overdueTasks">0</h3>
                    <p>
                        Overdue
                        <span class="ai-insight">
                            <i class="fas fa-exclamation"></i> Needs attention
                        </span>
                    </p>
                </div>
            </div>
        </div>

        <!-- Real-time Updates Banner - Enhanced Version -->
        <div class="realtime-banner">
            <div class="banner-left">
                <div class="ai-pulse">
                    <i class="fas fa-microchip"></i>
                </div>
                <div class="banner-content">
                    <span class="banner-title">
                        <i class="fas fa-robot"></i> 
                        AI-Powered Neural Sync
                    </span>
                    <span class="banner-subtitle" id="aiStatusMessage">
                        Neural network actively learning
                    </span>
                </div>
            </div>
            
            <div class="banner-right">
                <div class="live-indicator">
                    <span class="pulse-dot"></span>
                    <span class="live-text">LIVE</span>
                </div>
                <div class="timestamp-container" id="liveTimestamp">
                    <i class="fas fa-clock"></i>
                    <span class="time">9:46:01 AM</span>
                    <span class="timezone">PKT</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Task Creation Sidebar with AI Suggestions -->
            <div class="task-sidebar">
                <div class="sidebar-title">
                    <i class="fas fa-magic"></i>
                    AI Task Assistant
                </div>
                
                <div class="ai-suggestion">
                    <p>
                        <i class="fas fa-lightbulb"></i>
                        <strong>AI Suggestion:</strong> Based on your productivity pattern, now is the optimal time to create high-priority tasks.
                    </p>
                    <div class="suggestion-badges">
                        <span class="suggestion-badge" onclick="fillTaskSuggestion('Complete project documentation')">
                            <i class="fas fa-file"></i> Documentation
                        </span>
                        <span class="suggestion-badge" onclick="fillTaskSuggestion('Review pull requests')">
                            <i class="fas fa-code-branch"></i> Code Review
                        </span>
                        <span class="suggestion-badge" onclick="fillTaskSuggestion('Team meeting prep')">
                            <i class="fas fa-users"></i> Meeting
                        </span>
                    </div>
                </div>
                
                <form id="taskForm">
                    <div class="form-group">
                        <label><i class="fas fa-heading"></i> Task Title</label>
                        <input type="text" class="form-control" id="taskTitle" placeholder="e.g., Implement AI feature..." required>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-align-left"></i> Description</label>
                        <textarea class="form-control" id="taskDesc" rows="3" placeholder="Add details..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-flag"></i> Priority (AI Recommended)</label>
                        <div class="priority-selector" id="prioritySelector">
                            <div class="priority-option low" data-priority="low">Low</div>
                            <div class="priority-option medium" data-priority="medium">Medium</div>
                            <div class="priority-option high" data-priority="high">High</div>
                        </div>
                        <input type="hidden" id="taskPriority" value="medium">
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-calendar"></i> Smart Deadline</label>
                        <input type="text" class="form-control" id="taskDeadline" placeholder="Select date & time...">
                    </div>
                    
                    <div class="form-group">
                        <label><i class="fas fa-tag"></i> Category</label>
                        <select class="form-control" id="taskCategory">
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="shopping">Shopping</option>
                            <option value="health">Health</option>
                            <option value="ai-project">AI Project</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-robot"></i> Create with AI
                    </button>
                </form>
            </div>
            
            <!-- Tasks Area -->
            <div class="tasks-area">
                <div class="tasks-header">
                    <h2><i class="fas fa-list"></i> AI-Optimized Tasks</h2>
                    
                    <div class="filter-options">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="low">Low</button>
                        <button class="filter-btn" data-filter="medium">Medium</button>
                        <button class="filter-btn" data-filter="high">High</button>
                        <button class="filter-btn" data-filter="completed">Completed</button>
                    </div>
                </div>
                
                <div class="tasks-board" id="tasksBoard">
                    <!-- Tasks will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- AI Productivity Analysis Modal -->
    <div class="modal-overlay" id="productivityModal">
        <div class="ai-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-chart-line"></i>
                    AI Productivity Analysis
                </h3>
                <button class="modal-close" onclick="closeModal('productivityModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="ai-analysis">
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-clock"></i> Peak Productivity Time
                        </span>
                        <span class="analysis-value">9:00 AM - 11:00 AM</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-tachometer-alt"></i> Completion Rate
                        </span>
                        <span class="analysis-value high">87%</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-hourglass-half"></i> Avg Task Duration
                        </span>
                        <span class="analysis-value">2.5 hours</span>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="productivityChart"></canvas>
                </div>
                
                <ul class="ai-suggestions-list">
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>Schedule complex tasks during peak hours for 45% better efficiency</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>You complete 67% more tasks on Tuesdays and Thursdays</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>Take 5-minute breaks every 90 minutes to maintain focus</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- AI Smart Schedule Modal -->
    <div class="modal-overlay" id="smartScheduleModal">
        <div class="ai-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-clock"></i>
                    AI Smart Schedule
                </h3>
                <button class="modal-close" onclick="closeModal('smartScheduleModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="ai-analysis">
                    <h4 style="margin-bottom: 15px;">Today's Optimized Schedule</h4>
                    
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-tasks"></i> Priority 1 (High)
                        </span>
                        <span class="analysis-value">9:00 AM - 11:00 AM</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%" id="scheduleProgress1"></div>
                    </div>
                    
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-tasks"></i> Priority 2 (Medium)
                        </span>
                        <span class="analysis-value">11:30 AM - 1:00 PM</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%" id="scheduleProgress2"></div>
                    </div>
                    
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-tasks"></i> Priority 3 (Low)
                        </span>
                        <span class="analysis-value">2:00 PM - 4:00 PM</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 0%" id="scheduleProgress3"></div>
                    </div>
                </div>
                
                <ul class="ai-suggestions-list">
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>AI has rescheduled 2 tasks for optimal energy levels</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>Your most productive window: Morning hours - focus on complex tasks</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span>Blocked 1 hour for deep work at 9 AM (your peak time)</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- AI Task Prioritizer Modal -->
    <div class="modal-overlay" id="taskPrioritizerModal">
        <div class="ai-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-sort-amount-down"></i>
                    AI Task Prioritizer
                </h3>
                <button class="modal-close" onclick="closeModal('taskPrioritizerModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="ai-analysis">
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-exclamation-triangle"></i> Urgent & Important
                        </span>
                        <span class="analysis-value high" id="urgentCount">0 tasks</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-calendar"></i> Important but Not Urgent
                        </span>
                        <span class="analysis-value medium" id="importantCount">0 tasks</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-clock"></i> Urgent but Not Important
                        </span>
                        <span class="analysis-value low" id="urgentNotImportantCount">0 tasks</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">
                            <i class="fas fa-minus-circle"></i> Neither
                        </span>
                        <span class="analysis-value" id="neitherCount">0 tasks</span>
                    </div>
                </div>
                
                <h4 style="margin: 20px 0 15px;">AI Recommendations</h4>
                <ul class="ai-suggestions-list" id="prioritizerList">
                    <li>Loading AI analysis...</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- AI Insights Modal -->
    <div class="modal-overlay" id="insightsModal">
        <div class="ai-modal">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-lightbulb"></i>
                    AI Insights & Recommendations
                </h3>
                <button class="modal-close" onclick="closeModal('insightsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="ai-analysis">
                    <h4>Weekly Performance</h4>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%" id="weeklyProgress"></div>
                    </div>
                    <p style="margin-top: 10px; color: var(--gray);">78% of weekly goals achieved</p>
                </div>
                
                <ul class="ai-suggestions-list" id="insightsList">
                    <li>
                        <i class="fas fa-robot"></i>
                        <span><strong>Pattern Detected:</strong> You're most productive on Tuesday mornings</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span><strong>Time Saver:</strong> Group similar tasks to save ~2 hours weekly</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span><strong>Focus Alert:</strong> Reduce meeting time by 15% to increase deep work</span>
                    </li>
                    <li>
                        <i class="fas fa-robot"></i>
                        <span><strong>Goal Tracking:</strong> On track to complete monthly targets by 25th</span>
                    </li>
                </ul>
                
                <div class="chart-container">
                    <canvas id="insightsChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Task Management Application with AI Features
        class TaskManager {
            constructor() {
                this.tasks = [];
                this.currentFilter = 'all';
                this.draggedItem = null;
                this.charts = {};
                this.statusMessages = [
                    'Neural network actively learning',
                    'Deep learning models engaged',
                    'Pattern recognition active',
                    'Predictive analytics online',
                    'Machine learning core running',
                    'AI optimization in progress',
                    'Smart scheduling enabled',
                    'Analyzing productivity patterns',
                    'Learning your work habits',
                    'Optimizing task prioritization'
                ];
                
                this.initializeEventListeners();
                this.loadTasks();
                this.updateStats();
                this.startRealTimeUpdates();
                this.createAIBackground();
                this.initializeCharts();
                this.startAIStatusRotation();
            }
            
            initializeEventListeners() {
                // Task form submission
                document.getElementById('taskForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addTask();
                });
                
                // Priority selector
                const priorityOptions = document.querySelectorAll('.priority-option');
                priorityOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        priorityOptions.forEach(opt => opt.classList.remove('active'));
                        option.classList.add('active');
                        document.getElementById('taskPriority').value = option.dataset.priority;
                    });
                });
                
                // Set default priority
                document.querySelector('.priority-option.medium').classList.add('active');
                
                // Initialize date picker
                flatpickr("#taskDeadline", {
                    enableTime: true,
                    dateFormat: "Y-m-d H:i",
                    minDate: "today",
                    defaultDate: new Date().fp_incr(1),
                    time_24hr: true
                });
                
                // Filter buttons
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.currentFilter = btn.dataset.filter;
                        this.renderTasks();
                    });
                });
            }
            
            initializeCharts() {
                // Productivity Chart
                const ctx = document.getElementById('productivityChart')?.getContext('2d');
                if (ctx) {
                    this.charts.productivity = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                            datasets: [{
                                label: 'Tasks Completed',
                                data: [5, 8, 6, 9, 7, 4, 3],
                                borderColor: '#6366f1',
                                backgroundColor: 'rgba(99, 102, 241, 0.1)',
                                tension: 0.4,
                                fill: true
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { display: false }
                            }
                        }
                    });
                }
                
                // Insights Chart
                const insightsCtx = document.getElementById('insightsChart')?.getContext('2d');
                if (insightsCtx) {
                    this.charts.insights = new Chart(insightsCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['High Priority', 'Medium Priority', 'Low Priority', 'Completed'],
                            datasets: [{
                                data: [30, 45, 15, 10],
                                backgroundColor: ['#ef4444', '#f59e0b', '#10b981', '#6366f1'],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: true,
                            plugins: {
                                legend: { position: 'bottom' }
                            }
                        }
                    });
                }
            }
            
            createAIBackground() {
                const bg = document.getElementById('aiBackground');
                for (let i = 0; i < 20; i++) {
                    const span = document.createElement('span');
                    span.innerHTML = ['ðŸ¤–', 'ðŸ§ ', 'âš¡', 'ðŸ’¡', 'ðŸ”®', 'ðŸ“Š'][Math.floor(Math.random() * 6)];
                    span.style.left = Math.random() * 100 + '%';
                    span.style.animationDelay = Math.random() * 20 + 's';
                    span.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    bg.appendChild(span);
                }
            }
            
            addTask() {
                const title = document.getElementById('taskTitle').value;
                const description = document.getElementById('taskDesc').value;
                const priority = document.getElementById('taskPriority').value;
                const deadline = document.getElementById('taskDeadline').value;
                const category = document.getElementById('taskCategory').value;
                
                if (!title || !deadline) {
                    this.showNotification('Please fill in all required fields', 'error');
                    return;
                }
                
                const task = {
                    id: Date.now().toString(),
                    title,
                    description,
                    priority,
                    deadline,
                    category,
                    status: 'pending',
                    createdAt: new Date().toISOString(),
                    completed: false,
                    aiScore: Math.floor(Math.random() * 30 + 70) // Simulated AI score
                };
                
                this.tasks.unshift(task);
                this.saveTasks();
                this.renderTasks();
                this.updateStats();
                this.showNotification('Task created with AI optimization! âœ¨', 'success');
                
                // Clear form
                document.getElementById('taskForm').reset();
                document.querySelector('.priority-option.medium').classList.add('active');
                document.getElementById('taskPriority').value = 'medium';
            }
            
            toggleTaskComplete(taskId) {
                const task = this.tasks.find(t => t.id === taskId);
                if (task) {
                    task.completed = !task.completed;
                    task.status = task.completed ? 'completed' : 'pending';
                    this.saveTasks();
                    this.renderTasks();
                    this.updateStats();
                    
                    if (task.completed) {
                        this.showNotification('ðŸŽ‰ Task completed! Great job!', 'success');
                        this.playConfetti();
                    }
                }
            }
            
            deleteTask(taskId) {
                if (confirm('Are you sure you want to delete this task?')) {
                    this.tasks = this.tasks.filter(t => t.id !== taskId);
                    this.saveTasks();
                    this.renderTasks();
                    this.updateStats();
                    this.showNotification('Task deleted', 'info');
                }
            }
            
            getFilteredTasks() {
                switch(this.currentFilter) {
                    case 'low':
                        return this.tasks.filter(t => t.priority === 'low' && !t.completed);
                    case 'medium':
                        return this.tasks.filter(t => t.priority === 'medium' && !t.completed);
                    case 'high':
                        return this.tasks.filter(t => t.priority === 'high' && !t.completed);
                    case 'completed':
                        return this.tasks.filter(t => t.completed);
                    default:
                        return this.tasks.filter(t => !t.completed);
                }
            }
            
            renderTasks() {
                const board = document.getElementById('tasksBoard');
                const filteredTasks = this.getFilteredTasks();
                
                if (filteredTasks.length === 0) {
                    board.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-robot"></i>
                            <h3>No tasks found</h3>
                            <p>AI is waiting for you to create your first task!</p>
                        </div>
                    `;
                    return;
                }
                
                board.innerHTML = filteredTasks.map(task => this.createTaskCard(task)).join('');
                this.initializeDragAndDrop();
            }
            
            createTaskCard(task) {
                const deadline = new Date(task.deadline);
                const now = new Date();
                const isOverdue = deadline < now && !task.completed;
                const formattedDeadline = deadline.toLocaleString();
                const aiScore = task.aiScore || Math.floor(Math.random() * 30 + 70);
                
                return `
                    <div class="task-card priority-${task.priority} ${isOverdue ? 'overdue' : ''}" 
                         draggable="true" 
                         data-id="${task.id}"
                         data-priority="${task.priority}">
                        <div class="task-header">
                            <span class="task-title">${task.title}</span>
                            <span class="task-priority">${task.priority.toUpperCase()}</span>
                        </div>
                        <div class="task-description">${task.description || 'No description'}</div>
                        <div class="task-meta">
                            <span class="task-meta-item">
                                <i class="fas fa-calendar"></i>
                                <span class="${isOverdue ? 'overdue' : ''}">${formattedDeadline}</span>
                            </span>
                            <span class="task-meta-item">
                                <i class="fas fa-tag"></i>
                                ${task.category}
                            </span>
                            <span class="task-meta-item">
                                <i class="fas fa-microchip"></i>
                                AI Score: ${aiScore}%
                            </span>
                        </div>
                        <div class="task-footer">
                            <div class="task-status">
                                <span class="status-badge">
                                    <i class="fas fa-clock"></i>
                                    ${task.completed ? 'Completed' : 'In Progress'}
                                </span>
                            </div>
                            <div class="task-actions">
                                <button class="task-action ai" onclick="taskManager.analyzeTask('${task.id}')" title="AI Analysis">
                                    <i class="fas fa-robot"></i>
                                </button>
                                <button class="task-action complete" onclick="taskManager.toggleTaskComplete('${task.id}')" title="Toggle Complete">
                                    <i class="fas ${task.completed ? 'fa-undo' : 'fa-check'}"></i>
                                </button>
                                <button class="task-action delete" onclick="taskManager.deleteTask('${task.id}')" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            analyzeTask(taskId) {
                const task = this.tasks.find(t => t.id === taskId);
                if (task) {
                    alert(`ðŸ¤– AI Analysis for "${task.title}":\n\n` +
                          `â€¢ Estimated completion time: 2.5 hours\n` +
                          `â€¢ Best time to work: Morning (9 AM - 11 AM)\n` +
                          `â€¢ Difficulty level: ${task.priority === 'high' ? 'Complex' : 'Moderate'}\n` +
                          `â€¢ AI Suggestion: Break this into 3 smaller subtasks for better focus`);
                }
            }
            
            updateStats() {
                const total = this.tasks.length;
                const completed = this.tasks.filter(t => t.completed).length;
                const pending = this.tasks.filter(t => !t.completed).length;
                const overdue = this.tasks.filter(t => {
                    return !t.completed && new Date(t.deadline) < new Date();
                }).length;
                
                document.getElementById('totalTasks').textContent = total;
                document.getElementById('completedTasks').textContent = completed;
                document.getElementById('pendingTasks').textContent = pending;
                document.getElementById('overdueTasks').textContent = overdue;
                
                // Update AI prioritizer counts
                document.getElementById('urgentCount').textContent = 
                    this.tasks.filter(t => !t.completed && t.priority === 'high').length + ' tasks';
                document.getElementById('importantCount').textContent = 
                    this.tasks.filter(t => !t.completed && t.priority === 'medium').length + ' tasks';
                document.getElementById('urgentNotImportantCount').textContent = 
                    this.tasks.filter(t => !t.completed && t.priority === 'low').length + ' tasks';
                document.getElementById('neitherCount').textContent = 
                    this.tasks.filter(t => t.completed).length + ' tasks';
                
                // Update schedule progress bars
                const highPriorityTasks = this.tasks.filter(t => !t.completed && t.priority === 'high').length;
                const mediumPriorityTasks = this.tasks.filter(t => !t.completed && t.priority === 'medium').length;
                const lowPriorityTasks = this.tasks.filter(t => !t.completed && t.priority === 'low').length;
                
                document.getElementById('scheduleProgress1').style.width = 
                    Math.min(100, highPriorityTasks * 20) + '%';
                document.getElementById('scheduleProgress2').style.width = 
                    Math.min(100, mediumPriorityTasks * 15) + '%';
                document.getElementById('scheduleProgress3').style.width = 
                    Math.min(100, lowPriorityTasks * 10) + '%';
                
                // Update weekly progress
                document.getElementById('weeklyProgress').style.width = 
                    Math.min(100, (completed / (total || 1)) * 100) + '%';
                
                // Update prioritizer list
                const list = document.getElementById('prioritizerList');
                if (list) {
                    const highPriority = this.tasks.filter(t => !t.completed && t.priority === 'high');
                    list.innerHTML = highPriority.slice(0, 3).map(t => `
                        <li>
                            <i class="fas fa-exclamation-circle" style="color: #ef4444;"></i>
                            <span><strong>High Priority:</strong> ${t.title} (due ${new Date(t.deadline).toLocaleDateString()})</span>
                        </li>
                    `).join('') || '<li>No high priority tasks</li>';
                }
            }
            
            saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(this.tasks));
            }
            
            loadTasks() {
                const saved = localStorage.getItem('tasks');
                if (saved) {
                    this.tasks = JSON.parse(saved);
                    this.renderTasks();
                } else {
                    // Add sample tasks
                    this.tasks = [
                        {
                            id: '1',
                            title: 'Implement AI task analysis',
                            description: 'Add machine learning features to analyze task patterns',
                            priority: 'high',
                            deadline: new Date(Date.now() + 86400000).toISOString().slice(0, 16),
                            category: 'ai-project',
                            status: 'pending',
                            completed: false,
                            createdAt: new Date().toISOString(),
                            aiScore: 95
                        },
                        {
                            id: '2',
                            title: 'Design neural network interface',
                            description: 'Create UI for AI-powered recommendations',
                            priority: 'medium',
                            deadline: new Date(Date.now() + 172800000).toISOString().slice(0, 16),
                            category: 'work',
                            status: 'pending',
                            completed: false,
                            createdAt: new Date().toISOString(),
                            aiScore: 82
                        },
                        {
                            id: '3',
                            title: 'Train productivity model',
                            description: 'Feed user data to improve task predictions',
                            priority: 'low',
                            deadline: new Date(Date.now() + 259200000).toISOString().slice(0, 16),
                            category: 'ai-project',
                            status: 'pending',
                            completed: false,
                            createdAt: new Date().toISOString(),
                            aiScore: 78
                        }
                    ];
                    this.saveTasks();
                    this.renderTasks();
                }
            }
            
            showNotification(message, type = 'info') {
                const colors = {
                    success: 'linear-gradient(135deg, #10b981, #059669)',
                    error: 'linear-gradient(135deg, #ef4444, #dc2626)',
                    info: 'linear-gradient(135deg, #6366f1, #8b5cf6)',
                    warning: 'linear-gradient(135deg, #f59e0b, #d97706)'
                };
                
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: ${colors[type] || colors.info};
                    color: white;
                    padding: 15px 25px;
                    border-radius: 12px;
                    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                    animation: slideIn 0.3s ease;
                    z-index: 3000;
                    font-weight: 500;
                `;
                notification.innerHTML = `<i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i> ${message}`;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'fadeOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            playConfetti() {
                // Simple confetti effect
                for (let i = 0; i < 50; i++) {
                    const confetti = document.createElement('div');
                    confetti.style.cssText = `
                        position: fixed;
                        top: -10px;
                        left: ${Math.random() * 100}%;
                        width: 10px;
                        height: 10px;
                        background: hsl(${Math.random() * 360}, 100%, 50%);
                        border-radius: 50%;
                        animation: confetti ${Math.random() * 3 + 2}s linear infinite;
                        z-index: 9999;
                    `;
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }
            }
            
            startRealTimeUpdates() {
                // Update timestamp every second
                setInterval(() => {
                    this.updateTimestamp();
                }, 1000);
            }
            
            updateTimestamp() {
                const timestampElement = document.getElementById('liveTimestamp');
                if (!timestampElement) return;
                
                const now = new Date();
                const timeString = now.toLocaleTimeString('en-US', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: true
                });
                
                // Add animation class
                timestampElement.classList.add('time-update');
                
                // Update the time with fade effect
                const timeSpan = timestampElement.querySelector('.time');
                if (timeSpan) {
                    timeSpan.style.opacity = '0';
                    setTimeout(() => {
                        timeSpan.textContent = timeString;
                        timeSpan.style.opacity = '1';
                    }, 150);
                }
                
                // Remove animation class after animation completes
                setTimeout(() => {
                    timestampElement.classList.remove('time-update');
                }, 300);
            }
            
            startAIStatusRotation() {
                // Change AI status message every 5 seconds
                setInterval(() => {
                    const statusElement = document.getElementById('aiStatusMessage');
                    if (!statusElement) return;
                    
                    const randomMessage = this.statusMessages[Math.floor(Math.random() * this.statusMessages.length)];
                    
                    // Fade out and in
                    statusElement.style.opacity = '0';
                    setTimeout(() => {
                        statusElement.innerHTML = `âš¡ ${randomMessage}`;
                        statusElement.style.opacity = '1';
                    }, 200);
                }, 5000);
            }
            
            initializeDragAndDrop() {
                const cards = document.querySelectorAll('.task-card');
                const board = document.getElementById('tasksBoard');
                
                cards.forEach(card => {
                    card.addEventListener('dragstart', (e) => {
                        card.classList.add('dragging');
                        this.draggedItem = card;
                        e.dataTransfer.setData('text/plain', card.dataset.id);
                    });
                    
                    card.addEventListener('dragend', () => {
                        card.classList.remove('dragging');
                        cards.forEach(c => c.classList.remove('drag-over'));
                    });
                    
                    card.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        card.classList.add('drag-over');
                    });
                    
                    card.addEventListener('dragleave', () => {
                        card.classList.remove('drag-over');
                    });
                    
                    card.addEventListener('drop', (e) => {
                        e.preventDefault();
                        card.classList.remove('drag-over');
                        
                        const draggedId = this.draggedItem?.dataset.id;
                        const targetId = card.dataset.id;
                        
                        if (draggedId && targetId && draggedId !== targetId) {
                            const draggedIndex = this.tasks.findIndex(t => t.id === draggedId);
                            const targetIndex = this.tasks.findIndex(t => t.id === targetId);
                            
                            const [draggedTask] = this.tasks.splice(draggedIndex, 1);
                            this.tasks.splice(targetIndex, 0, draggedTask);
                            
                            this.saveTasks();
                            this.renderTasks();
                            this.showNotification('Task reordered with AI optimization', 'info');
                        }
                    });
                });
                
                board.addEventListener('dragover', (e) => {
                    e.preventDefault();
                });
            }
        }
        
        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // Fill task suggestion
        function fillTaskSuggestion(text) {
            document.getElementById('taskTitle').value = text;
        }
        
        // Initialize the app
        const taskManager = new TaskManager();
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; transform: translateY(0); }
                to { opacity: 0; transform: translateY(20px); }
            }
            
            @keyframes confetti {
                to { transform: translateY(100vh) rotate(720deg); }
            }
            
            .empty-state {
                text-align: center;
                padding: 80px 20px;
                color: var(--gray);
            }
            
            .empty-state i {
                font-size: 80px;
                margin-bottom: 20px;
                color: var(--primary);
                opacity: 0.5;
            }
            
            .empty-state h3 {
                color: var(--dark);
                margin-bottom: 10px;
                font-size: 24px;
            }
            
            .empty-state p {
                color: var(--gray);
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>